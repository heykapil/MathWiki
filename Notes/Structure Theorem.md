<div class="topSpace"></div>

Date Created: 23/07/2023 20:35:54
Tags: #Type/Theorem #In_Progress

Proved by: [[Characterizations of PIDs]], [[Universal Property of Free Modules]], [[Basic properties of rank]], [[Splitting Lemma]], [[PID implies UFD]], [[Bezout's Identity]], [[Isomorphism Theorems]], [[Basic properties of quotient modules]], [[Basis Extension Theorem]], [[Chinese Remainder Theorem]], [[Freedom Theorem for Modules over PID]]
References: <i>Not Applicable</i>
Justifications: <i>Not Applicable</i>

Specializations: <i>Not Applicable</i>
Generalizations: <i>Not Applicable</i>

``` ad-Theorem
title: Theorem (Structure Theorem for Finitely-generated Modules over PIDs).

Let $M$ be a finitely-generated module over a PID $R$. Then we have a decomposition $M\iso R^{\rk M}\oplus\Tor M$, and furthermore:
* (Elementary Divisors). There exist distinct prime ideals $\gen{p_i}\nsubgrp R$ and positive integers $\alpha_{ij}\in\N$ such that $\Tor M\iso\bigoplus_{i=1}^n\bigoplus_{j=1}^mR/\langle p_i^{\alpha_{ij}}\rangle$.
* (Invariant Factors). There exist an ascending chain $\gen{a_1}\supseteq\gen{a_2}\supseteq\cdots\supseteq\gen{a_m}$ of non-zero ideals $\gen{a_j}\nsubgrp R$ such that $\Tor M\iso\bigoplus_{j=1}^mR/\!\gen{a_j}$.

Both decompositions of $\Tor M$ are unique up to a permutation of the factors.

```

<i>Proof.</i> We claim that the exact sequence $0\to\Tor M\to M\to M/\Tor M\to 0$ splits. Indeed, since $M/\Tor M$ is torsion-free and $R$ is a PID, we see that $M/\Tor M$ is free so $\pi:M\onto M/\Tor M$ admits a splitting $\phi:M/\Tor M\to M$ mapping the basis elements $e_i\mapsto m_i\in\pi^{-1}\!\l(e_i\r)\in M$. Since $\rk\l(M/\Tor M\r)=\rk M$, we obtain the desired torsion decomposition $M\iso R^{\rk M}\oplus\Tor M$. Henceforth, we assume w.l.o.g. that $M=\Tor M$; its decomposition will proceed in several steps.
1. For each prime ideal $\mf{p}\coloneqq\gen{p}\nsubgrp R$, set $M\l(\mf{p}\r)\coloneqq\l\{m\in M\st\ex\alpha\geq 1:p^\alpha m=0\r\}$. We first establish the <i>primary decomposition</i> $M\iso\bigoplus_\mf{p}M\l(\mf{p}\r)$, where the direct sum is taken over all non-zero prime ideals $\mf{p}\nsubgrp R$. Furthermore, we show that $M\l(\mf{p}\r)$ vanishes for cofinitely-many $\mf{p}$.
2. For each $\mf{p}\coloneqq\gen{p}$ in the primary decomposition, we show that $M\l(\mf{p}\r)\iso\bigoplus_{j=1}^mR/\!\gen{p^{\alpha_j}}$ for some unique $m\in\N$ and unique positive integers $\alpha_1\leq\cdots\leq\alpha_m$.
3. Finally, we use the Chinese Remainder Theorem to combine the primes into a unique ascending chain $\gen{a_1}\supseteq\gen{a_2}\supseteq\cdots\supseteq\gen{a_m}$ of non-zero ideals $\gen{a_j}\nsubgrp R$, giving us the invariant factors decomposition of $M$.

We prove the primary decomposition of $M$. For all $a\in R$, let $M_a$ denote the kernel of the endomorphism $m\mapsto am$. Since $M$ is torsion, we see that $\Ann M\neq\l\{0\r\}$ and so there is some $a\in R$ such that $M_a=M$. Since $R$ is also a UFD, write $a=u\prod_{i=1}^{n}p_i^{\alpha_i}$, and set $b\coloneqq p_1^{\alpha_1}$ and $c\coloneqq a/b$. We claim that $M=M_b\oplus M_c$, from which the result follows by induction. 
* Since $b\perp c$, Bézout’s Identity furnishes $r,s\in R$ so that $rb+sc=1$. Take $m\in M$, so $m=rbm+scm$. Then $c\l(rbm\r)=arm=0$ and $b\l(scm\r)=asm=0$, so $m\in M_b+M_c$. Furthermore, if $bm=cm=0$, then $m=rbm+scm=0$.

Fix a prime $\mf{p}\coloneqq\gen{p}$ in the primary decomposition of $M$ and write $N\coloneqq M\l(\mf{p}\r)\iso\gen{x_j}_{j=1}^m$ for some $m\in\N$ and $x_j\in M\l(\mf{p}\r)$. Let $\alpha\geq1$ be the smallest integer so that $p^\alpha M=0$ and let $x\in N$ have order $\gen{p^\alpha}$. Set $\bar{N}\coloneqq N/\!\gen{x}$ and consider the exact sequence $0\to\gen{x}\to N\overset{\pi}{\to}\bar{N}\to0$. We need the following lemma.
* If $\bar{y}\in\bar{N}$ has order $\gen{p^\beta}$ for some $\beta\geq1$, then it admits a representative $y\in N$ having the same order. Indeed, let $z\in\pi^{-1}\!\l(\bar{y}\r)$, so $\pi\l(p^\beta z\r)=p^\beta\pi\l(z\r)=p^\beta\bar{y}=0$ and hence $p^\beta z\in\gen{x}$. Thus $p^\beta z=rx$ for some $r\in R$. Observe that $0=p^\alpha z=p^{\alpha-\beta}rx$, so, since $\ord x=\gen{p^\alpha}$, we have $r=p^\beta s$ for some $s\in R$. Set $y\coloneqq z-sx$, which projects onto $\bar{y}$. Its order is $\gen{p^\beta}$ since $p^\beta y=p^\beta z-p^\beta sx=rx-rx=0$ and $\ord y\subseteq\ord\pi\l(y\r)=\gen{p^\beta}$.

We now prove that $M\l(\mf{p}\r)\iso\bigoplus_{j=1}^{m}R/\!\gen{p^{\alpha_j}}$ by induction. If $m=1$, then $M\l(\mf{p}\r)\iso\gen{x_1}$ is cyclic and we are done. In general, assume w.l.o.g. that $\ord x_m=\gen{p^\alpha}$. Then $\bar{N}\coloneqq N/\!\gen{x_m}$ is generated by $\gen{x_j}_{j=1}^{m-1}$, so it admits a decomposition $\bar{N}\iso\bigoplus_{j=1}^{m-1}R/\!\gen{p^{\alpha_j}}$ for positive integers $\alpha_1\leq\cdots\leq\alpha_{m-1}$. For each $1\leq j\leq m-1$, the module $R/\!\gen{p^{\alpha_j}}$ is cyclic and hence can be generated by some $\bar{y}_j$ of order $\gen{p^{\alpha_j}}$. The above lemma then furnishes representatives $y_j$ of $\bar{y_j}$ having the same order, where we have $\gen{y_j}\iso R/\!\gen{p^{\alpha_j}}$ since the map $R\to\gen{y_j}:r\mapsto ry_j$ is surjective with kernel $\ord y_j=\gen{p^{\alpha_j}}$. This induces an isomorphism $\psi:\bar{N}\to\bigoplus_{j=1}^{m-1}\gen{y_j}$ such that $\pi\circ\psi=\id$, so the exact sequence $0\to\gen{x_m}\to N\to\bar{N}\to0$ splits and gives us the desired isomorphism $N\iso\gen{x_m}\oplus\bigoplus_{j=1}^{m-1}R/\!\gen{p^{\alpha_j}}\iso\bigoplus_{j=1}^mR/\!\gen{p^{\alpha_j}}$ with $\alpha_m\coloneqq\alpha$.
* To show uniqueness, observe that $\mf{p}N=0$ and so $N$ has a natural $R/\mf{p}$-vector space structure given by $\l(r+\mf{p}\r)\cdot x\coloneqq rx$.
